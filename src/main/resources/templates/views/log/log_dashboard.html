<!doctype html>
<html xmlns:th="http://www.thymeleaf.org" data-bs-theme="dark" lang="en">
    <head th:replace="~{scripts_common :: head('Log Dashboard - SeizureTracker')}"></head>
    <body>
        <div th:replace="~{fragments/populatedNav :: populatedNavBar('Log Dashboard')}"></div>
        <div th:replace="~{fragments/tk/layout :: flexCenter(~{::content})}">
            <div th:fragment="content" class="p-2 xl:p-0">
                <div th:replace="~{fragments/tk/card :: cardLeftAlignedTitle(null, ~{::cardContent})}">
                    <div th:fragment="cardContent">
                        <div class="flex w-full flex-row gap-2 pb-2">
                            <a
                                th:replace="~{fragments/tk/button :: linkButton('New', '/logDashboard/newEntry')}"
                                th:classappend="w-min"
                            ></a>
                            <a
                                th:replace="~{fragments/tk/button :: linkButton('Export', '/logDashboard/export')}"
                                th:classappend="w-min"
                            ></a>
                        </div>
                        <table>
                            <thead>
                                <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">Date</th>
                                    <th scope="col">Duration</th>
                                    <th scope="col">Intensity</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr th:each="logEntry, iterStat : ${seizureLogs}">
                                    <td th:text="${iterStat.index} + 1"></td>
                                    <td th:text="${#dates.format(logEntry.getInstant(), 'MM/dd/yyyy')}"></td>
                                    <td th:text="${logEntry.duration}+' min'"></td>
                                    <td th:text="${logEntry.severity}+'/10'"></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
